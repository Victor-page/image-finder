(this["webpackJsonpimage-finder"]=this["webpackJsonpimage-finder"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports={overlay:"Modal_overlay__DwiXk",modal:"Modal_modal__3lNh4","close-icon":"Modal_close-icon__1vcN5"}},function(e,t,n){e.exports={searchbar:"Searchbar_searchbar__I2ciB","search-form":"Searchbar_search-form__3IJRr","search-form-button-label":"Searchbar_search-form-button-label__2oS73","search-form-input":"Searchbar_search-form-input__gstRG"}},,,function(e,t,n){e.exports={"gallery-item":"ImageGalleryItem_gallery-item__FmNi6","gallery-item-image":"ImageGalleryItem_gallery-item-image__2BxWU"}},function(e,t,n){e.exports={"spinner-wrapper":"ImageGalleryPendingView_spinner-wrapper__ZCjJN","icon-spin":"ImageGalleryPendingView_icon-spin__ZMIbL"}},,function(e,t,n){e.exports={"icon-button":"IconButton_icon-button__2JGnE"}},function(e,t,n){e.exports={gallery:"ImageGalleryDataView_gallery__2kNr6"}},function(e,t,n){e.exports={"load-more-button":"LoadMoreButton_load-more-button__3mJng"}},function(e,t,n){e.exports={title:"ImageGallery_title__1-Y8o"}},function(e,t,n){e.exports={app:"App_app__3hcwn"}},,,,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),o=n.n(a),c=(n(28),n(3)),l=n(9),i=n(4),s=n(5),u=n(7),p=n(6),m=n(10),f=n.n(m),h=n(13),b=n(8),d=n(23),j=n(16),g=n.n(j),O=n(17),y=n.n(O),v=n(1),x=["children","onClick","type","extraClassName"],w=function(e){var t=e.children,n=e.onClick,r=e.type,a=e.extraClassName,o=Object(d.a)(e,x);return Object(v.jsx)("button",Object(h.a)(Object(h.a)({type:r,className:g.a.bind(y.a)("icon-button",Object(b.a)({},a,a)),onClick:n},o),{},{children:t}))};w.defaultProps={onClick:function(){return null},children:null,type:"button",extraClassName:null};var _,k=w,C=["title","titleId"];function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function N(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e,t){var n=e.title,a=e.titleId,o=N(e,C);return r.createElement("svg",I({viewBox:"0 0 512 512",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,_||(_=r.createElement("path",{className:"st0",d:"M284.3,245.1l110.9-110.9c7.8-7.8,7.8-20.5,0-28.3s-20.5-7.8-28.3,0L256,216.8L145.1,105.9  c-7.8-7.8-20.5-7.8-28.3,0s-7.8,20.5,0,28.3l110.9,110.9L116.9,355.9c-7.8,7.8-7.8,20.5,0,28.3c3.9,3.9,9,5.9,14.1,5.9  c5.1,0,10.2-2,14.1-5.9L256,273.3l110.9,110.9c3.9,3.9,9,5.9,14.1,5.9s10.2-2,14.1-5.9c7.8-7.8,7.8-20.5,0-28.3L284.3,245.1z"})))}var E,L,P,M,B,R=r.forwardRef(S),q=(n.p,document.getElementById("modalRoot")),A=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.modalPhoto,r=n.largeImg,o=n.alt;return Object(a.createPortal)(Object(v.jsx)("div",{className:f.a.overlay,onClick:this.handleBackdropClick,children:Object(v.jsxs)("div",{className:f.a.modal,children:[Object(v.jsx)(k,{onClick:t,"aria-label":"Close",type:"button",extraClassName:f.a["close-icon"],children:Object(v.jsx)(R,{width:"40",height:"40",fill:"#fff"})}),Object(v.jsx)("img",{src:r,alt:o})]})}),q)}}]),n}(r.Component),D=A,G=(n(30),n(11)),J=n.n(G),U=["title","titleId"];function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function V(e,t){var n=e.title,a=e.titleId,o=F(e,U);return r.createElement("svg",z({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",ref:t,"aria-labelledby":a},o),n?r.createElement("title",{id:a},n):null,E||(E=r.createElement("path",{fill:"#616161",d:"M34.6 28.1H38.6V45.1H34.6z",transform:"rotate(-45.001 36.586 36.587)"})),L||(L=r.createElement("path",{fill:"#616161",d:"M20 4A16 16 0 1 0 20 36A16 16 0 1 0 20 4Z"})),P||(P=r.createElement("path",{fill:"#37474F",d:"M36.2 32.1H40.2V44.400000000000006H36.2z",transform:"rotate(-45.001 38.24 38.24)"})),M||(M=r.createElement("path",{fill:"#64B5F6",d:"M20 7A13 13 0 1 0 20 33A13 13 0 1 0 20 7Z"})),B||(B=r.createElement("path",{fill:"#BBDEFB",d:"M26.9,14.2c-1.7-2-4.2-3.2-6.9-3.2s-5.2,1.2-6.9,3.2c-0.4,0.4-0.3,1.1,0.1,1.4c0.4,0.4,1.1,0.3,1.4-0.1C16,13.9,17.9,13,20,13s4,0.9,5.4,2.5c0.2,0.2,0.5,0.4,0.8,0.4c0.2,0,0.5-0.1,0.6-0.2C27.2,15.3,27.2,14.6,26.9,14.2z"})))}var H=r.forwardRef(V),Z=(n.p,function(e){var t=e.onSubmit,n=Object(r.useState)((function(){var e;return null!==(e=JSON.parse(window.localStorage.getItem("searchQuery")))&&void 0!==e?e:""})),a=Object(c.a)(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){window.localStorage.setItem("searchQuery",JSON.stringify(o))}),[o]),Object(v.jsx)("header",{className:J.a.searchbar,children:Object(v.jsxs)("form",{className:J.a["search-form"],onSubmit:function(e){if(e.preventDefault(),""===o.trim())return l.b.error("Enter some valid search query please.");t(o),i("")},children:[Object(v.jsx)(k,{type:"submit","aria-label":"Search",children:Object(v.jsx)(H,{width:"24px",height:"24px"})}),Object(v.jsx)("input",{className:J.a["search-form-input"],type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){var t=e.currentTarget.value;i(t.toLowerCase())}})]})})}),K=n(18),T=n.n(K),Q=n(14),W=n.n(Q),X=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.smallImg,n=e.largeImg,r=e.onPhotoClick,a=e.alt;return Object(v.jsx)("li",{className:W.a["gallery-item"],children:Object(v.jsx)("img",{className:W.a["gallery-item-image"],src:t,alt:a,onClick:function(){return r({largeImg:n,alt:a})}})})}}]),n}(r.Component),Y=X,$=n(19),ee=n.n($),te=function(e){var t=e.onLoadMore;return Object(v.jsx)("button",{className:ee.a["load-more-button"],type:"button",onClick:t,children:"Load more"})},ne=function(e){var t=e.photos,n=e.onPhotoClick,r=e.onLoadMore;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("ul",{className:T.a.gallery,children:t.map((function(e){var t=e.webformatURL,r=e.largeImageURL,a=e.id,o=e.tags;return Object(v.jsx)(Y,{smallImg:t,largeImg:r,onPhotoClick:n,alt:o},a)}))}),t.length&&Object(v.jsx)(te,{onLoadMore:r})]})},re=n(22),ae=n(15),oe=n.n(ae),ce=n.p+"static/media/pending-image.ef91a4ee.gif",le=document.getElementById("spinnerRoot"),ie=function(e){var t=e.query,n=e.viewsNumber,r=Array.from(Array(n)).map((function(e,n){return{id:n,tags:t,webformatURL:ce,largeImageURL:""}}));return Object(v.jsxs)("div",{role:"alert",children:[Object(a.createPortal)(Object(v.jsxs)("div",{className:oe.a["spinner-wrapper"],children:[Object(v.jsx)(re.a,{size:"48",className:oe.a["icon-spin"]}),Object(v.jsx)("p",{children:"Loading..."})]}),le),Object(v.jsx)(ne,{photos:r,onPhotoClick:function(){}})]})},se=n(20),ue=n.n(se),pe=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={photos:null,error:null,status:"idle"},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n,r,a=this,o=e.query,c=e.page,l=this.props,i=l.query,s=l.page,u=o===i;u&&c===s||(this.setState({status:"pending"}),(n=i,r=s,fetch("https://pixabay.com/api/?q=".concat(n,"&page=").concat(r,"&key=24568502-5ca9f026ce5836891cf338e0e&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("There are no ".concat(n," images")))}))).then((function(e){var t=e.hits;a.setState((function(e){return{photos:e.photos&&u?e.photos.concat(t):t,status:"resolved"}}))})).catch((function(e){return a.setState({error:e,status:"rejected"})})))}},{key:"render",value:function(){var e=this.props,t=e.onPhotoClick,n=e.query,r=e.onLoadMore,a=this.state,o=a.photos,c=a.error,l=a.status;return"idle"===l?Object(v.jsx)("h1",{className:ue.a.title,children:"Enter some search query."}):"pending"===l?Object(v.jsx)(ie,{query:n,viewsNumber:(null===o||void 0===o?void 0:o.length)||12}):("rejected"===l&&c.message,"resolved"===l?Object(v.jsx)(ne,{photos:o,onPhotoClick:t,onLoadMore:r}):void 0)}}]),n}(r.Component),me=pe,fe=n(21),he=n.n(fe),be=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e}),[e]),t.current},de=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(null),i=Object(c.a)(o,2),s=i[0],u=i[1],p=Object(r.useState)(""),m=Object(c.a)(p,2),f=m[0],h=m[1],b=Object(r.useState)(null),d=Object(c.a)(b,2),j=d[0],g=d[1],O=be(f),y=function(e){e&&u(e),a((function(e){return!e}))};return Object(v.jsxs)("div",{className:he.a.app,children:[Object(v.jsx)(Z,{onSubmit:function(e){h(e),g((function(t){return null===t||O!==e?1:j}))}}),n&&Object(v.jsx)(D,{onClose:y,modalPhoto:s}),Object(v.jsx)(me,{onPhotoClick:y,query:f,page:j,onLoadMore:function(){g((function(e){return e+1}))}}),Object(v.jsx)(l.a,{})]})};o.a.render(Object(v.jsx)(de,{}),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.775cc435.chunk.js.map