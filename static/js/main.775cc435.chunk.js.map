{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGalleryDataView/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGalleryPendingView/ImageGalleryPendingView.module.css","components/IconButton/IconButton.module.css","components/ImageGallery/ImageGalleryDataView/ImageGalleryDataView.module.css","components/ImageGallery/ImageGalleryDataView/LoadMoreButton/LoadMoreButton.module.css","components/ImageGallery/ImageGallery.module.css","App.module.css","components/IconButton/IconButton.js","icons/close.svg","icons/search.svg","components/Modal/Modal.js","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryDataView/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGalleryDataView/LoadMoreButton/LoadMoreButton.js","components/ImageGallery/ImageGalleryDataView/ImageGalleryDataView.js","components/ImageGallery/ImageGalleryPendingView/pending-image.gif","components/ImageGallery/ImageGalleryPendingView/ImageGalleryPendingView.js","components/ImageGallery/ImageGallery.js","services/pixabay-api.js","hooks/use-previous.js","App.js","index.js"],"names":["module","exports","IconButton","children","onClick","type","extraClassName","allyProps","className","classNames","bind","classes","defaultProps","_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","viewBox","xmlSpace","xmlns","xmlnsXlink","ref","id","d","_path2","_path3","_path4","_path5","ForwardRef","modalRoot","document","getElementById","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","modalPhoto","photo","largeImg","alt","createPortal","overlay","modal","width","height","fill","src","Component","SvgSearch","transform","Searchbar","onSubmit","useState","JSON","parse","localStorage","getItem","searchQuery","setSearchQuery","useEffect","setItem","stringify","searchbar","event","preventDefault","trim","toast","error","autoComplete","autoFocus","placeholder","value","onChange","toLowerCase","ImageGalleryItem","smallImg","onPhotoClick","LoadMoreButton","onLoadMore","ImageGalleryDataView","photos","gallery","map","webformatURL","largeImageURL","tags","spinnerRoot","ImageGalleryPendingView","query","viewsNumber","pendingImages","Array","from","image","index","pendingImage","role","size","ImageGallery","state","status","prevProps","prevState","page","prevQuery","prevPage","currentQuery","currentPage","areSameQueries","setState","fetch","then","response","ok","json","Promise","reject","Error","loadedPhotos","hits","concat","catch","message","usePrevious","useRef","current","App","showModal","setShowModal","setModalPhoto","setQuery","setPage","toggleModal","prevShowModal","app","ReactDOM","render"],"mappings":"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","file":"static/js/main.775cc435.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__DwiXk\",\"modal\":\"Modal_modal__3lNh4\",\"close-icon\":\"Modal_close-icon__1vcN5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__I2ciB\",\"search-form\":\"Searchbar_search-form__3IJRr\",\"search-form-button-label\":\"Searchbar_search-form-button-label__2oS73\",\"search-form-input\":\"Searchbar_search-form-input__gstRG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery-item\":\"ImageGalleryItem_gallery-item__FmNi6\",\"gallery-item-image\":\"ImageGalleryItem_gallery-item-image__2BxWU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner-wrapper\":\"ImageGalleryPendingView_spinner-wrapper__ZCjJN\",\"icon-spin\":\"ImageGalleryPendingView_icon-spin__ZMIbL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon-button\":\"IconButton_icon-button__2JGnE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGalleryDataView_gallery__2kNr6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"load-more-button\":\"LoadMoreButton_load-more-button__3mJng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"ImageGallery_title__1-Y8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__3hcwn\"};","import PropTypes from 'prop-types';\r\nimport classNames from 'classnames/bind';\r\n\r\nimport classes from './IconButton.module.css';\r\n\r\nconst IconButton = ({\r\n  children,\r\n  onClick,\r\n  type,\r\n  extraClassName,\r\n  ...allyProps\r\n}) => (\r\n  <button\r\n    type={type}\r\n    className={classNames.bind(classes)('icon-button', {\r\n      [extraClassName]: extraClassName,\r\n    })}\r\n    onClick={onClick}\r\n    {...allyProps}\r\n  >\r\n    {children}\r\n  </button>\r\n);\r\n\r\nIconButton.defaultProps = {\r\n  onClick: () => null,\r\n  children: null,\r\n  type: 'button',\r\n  extraClassName: null,\r\n};\r\n\r\nIconButton.propTypes = {\r\n  onClick: PropTypes.func,\r\n  children: PropTypes.node,\r\n  type: PropTypes.string,\r\n  extraClassName: PropTypes.string,\r\n  'aria-label': PropTypes.string.isRequired,\r\n};\r\n\r\nexport default IconButton;\r\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    className: \"st0\",\n    d: \"M284.3,245.1l110.9-110.9c7.8-7.8,7.8-20.5,0-28.3s-20.5-7.8-28.3,0L256,216.8L145.1,105.9  c-7.8-7.8-20.5-7.8-28.3,0s-7.8,20.5,0,28.3l110.9,110.9L116.9,355.9c-7.8,7.8-7.8,20.5,0,28.3c3.9,3.9,9,5.9,14.1,5.9  c5.1,0,10.2-2,14.1-5.9L256,273.3l110.9,110.9c3.9,3.9,9,5.9,14.1,5.9s10.2-2,14.1-5.9c7.8-7.8,7.8-20.5,0-28.3L284.3,245.1z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.d11f5d9b.svg\";\nexport { ForwardRef as ReactComponent };","var _path, _path2, _path3, _path4, _path5;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 48 48\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#616161\",\n    d: \"M34.6 28.1H38.6V45.1H34.6z\",\n    transform: \"rotate(-45.001 36.586 36.587)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#616161\",\n    d: \"M20 4A16 16 0 1 0 20 36A16 16 0 1 0 20 4Z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#37474F\",\n    d: \"M36.2 32.1H40.2V44.400000000000006H36.2z\",\n    transform: \"rotate(-45.001 38.24 38.24)\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#64B5F6\",\n    d: \"M20 7A13 13 0 1 0 20 33A13 13 0 1 0 20 7Z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#BBDEFB\",\n    d: \"M26.9,14.2c-1.7-2-4.2-3.2-6.9-3.2s-5.2,1.2-6.9,3.2c-0.4,0.4-0.3,1.1,0.1,1.4c0.4,0.4,1.1,0.3,1.4-0.1C16,13.9,17.9,13,20,13s4,0.9,5.4,2.5c0.2,0.2,0.5,0.4,0.8,0.4c0.2,0,0.5-0.1,0.6-0.2C27.2,15.3,27.2,14.6,26.9,14.2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.46b32882.svg\";\nexport { ForwardRef as ReactComponent };","import { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport classes from './Modal.module.css';\r\n\r\nimport IconButton from 'components/IconButton';\r\nimport { ReactComponent as CloseIcon } from 'icons/close.svg';\r\n\r\nconst modalRoot = document.getElementById('modalRoot');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = ({ code }) => {\r\n    if (code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = ({ currentTarget, target }) => {\r\n    if (currentTarget === target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onClose,\r\n      modalPhoto: { largeImg: photo, alt },\r\n    } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={classes.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={classes.modal}>\r\n          <IconButton\r\n            onClick={onClose}\r\n            aria-label=\"Close\"\r\n            type=\"button\"\r\n            extraClassName={classes['close-icon']}\r\n          >\r\n            <CloseIcon width=\"40\" height=\"40\" fill=\"#fff\" />\r\n          </IconButton>\r\n          <img src={photo} alt={alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  modalPhoto: PropTypes.exact({\r\n    alt: PropTypes.string.isRequired,\r\n    largeImg: PropTypes.string.isRequired,\r\n  }),\r\n  onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import { useState, useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport classes from './Searchbar.module.css';\r\n\r\nimport IconButton from 'components/IconButton';\r\nimport { ReactComponent as SearchIcon } from 'icons/search.svg';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [searchQuery, setSearchQuery] = useState(\r\n    () => JSON.parse(window.localStorage.getItem('searchQuery')) ?? ''\r\n  );\r\n\r\n  const handleQueryChange = ({ currentTarget: { value } }) => {\r\n    setSearchQuery(value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (searchQuery.trim() === '') {\r\n      return toast.error('Enter some valid search query please.');\r\n    }\r\n\r\n    onSubmit(searchQuery);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem('searchQuery', JSON.stringify(searchQuery));\r\n  }, [searchQuery]);\r\n\r\n  return (\r\n    <header className={classes.searchbar}>\r\n      <form className={classes['search-form']} onSubmit={handleSubmit}>\r\n        <IconButton type=\"submit\" aria-label=\"Search\">\r\n          <SearchIcon width=\"24px\" height=\"24px\" />\r\n        </IconButton>\r\n\r\n        <input\r\n          className={classes['search-form-input']}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={searchQuery}\r\n          onChange={handleQueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = { onSubmit: PropTypes.func.isRequired };\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { Component } from 'react';\r\n\r\nimport classes from './ImageGalleryItem.module.css';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  render() {\r\n    const { smallImg, largeImg, onPhotoClick, alt } = this.props;\r\n\r\n    return (\r\n      <li className={classes['gallery-item']}>\r\n        <img\r\n          className={classes['gallery-item-image']}\r\n          src={smallImg}\r\n          alt={alt}\r\n          onClick={() => onPhotoClick({ largeImg, alt })}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  alt: PropTypes.string.isRequired,\r\n  largeImg: PropTypes.string.isRequired,\r\n  onPhotoClick: PropTypes.func.isRequired,\r\n  smallImg: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport classes from './LoadMoreButton.module.css';\r\n\r\nconst LoadMoreButton = ({ onLoadMore }) => {\r\n  return (\r\n    <button\r\n      className={classes['load-more-button']}\r\n      type=\"button\"\r\n      onClick={onLoadMore}\r\n    >\r\n      Load more\r\n    </button>\r\n  );\r\n};\r\n\r\nLoadMoreButton.propTypes = { onLoadMore: PropTypes.func };\r\n\r\nexport default LoadMoreButton;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport classes from './ImageGalleryDataView.module.css';\r\n\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport LoadMoreButton from './LoadMoreButton';\r\n\r\nconst ImageGalleryDataView = ({ photos, onPhotoClick, onLoadMore }) => (\r\n  <>\r\n    <ul className={classes.gallery}>\r\n      {photos.map(({ webformatURL, largeImageURL, id, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          smallImg={webformatURL}\r\n          largeImg={largeImageURL}\r\n          onPhotoClick={onPhotoClick}\r\n          alt={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n    {photos.length && <LoadMoreButton onLoadMore={onLoadMore} />}\r\n  </>\r\n);\r\n\r\nImageGalleryDataView.propTypes = {\r\n  onLoadMore: PropTypes.func,\r\n  onPhotoClick: PropTypes.func.isRequired,\r\n  photos: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n    })\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGalleryDataView;\r\n","export default __webpack_public_path__ + \"static/media/pending-image.ef91a4ee.gif\";","import { createPortal } from 'react-dom';\r\nimport { ImSpinner } from 'react-icons/im';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryDataView from '../ImageGalleryDataView';\r\n\r\nimport classes from './ImageGalleryPendingView.module.css';\r\n\r\nimport pendingImage from './pending-image.gif';\r\n\r\nconst spinnerRoot = document.getElementById('spinnerRoot');\r\n\r\nconst ImageGalleryPendingView = ({ query, viewsNumber }) => {\r\n  const pendingImages = Array.from(Array(viewsNumber)).map((image, index) => ({\r\n    id: index,\r\n    tags: query,\r\n    webformatURL: pendingImage,\r\n    largeImageURL: '',\r\n  }));\r\n\r\n  return (\r\n    <div role=\"alert\">\r\n      {createPortal(\r\n        <div className={classes['spinner-wrapper']}>\r\n          <ImSpinner size=\"48\" className={classes['icon-spin']} />\r\n          <p>Loading...</p>\r\n        </div>,\r\n        spinnerRoot\r\n      )}\r\n      <ImageGalleryDataView photos={pendingImages} onPhotoClick={() => {}} />\r\n    </div>\r\n  );\r\n};\r\n\r\nImageGalleryPendingView.propTypes = {\r\n  viewsNumber: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ImageGalleryPendingView;\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport ImageGalleryErrorView from './ImageGalleryErrorView';\r\nimport ImageGalleryDataView from './ImageGalleryDataView';\r\nimport ImageGalleryPendingView from './ImageGalleryPendingView';\r\nimport { fetchGallery } from 'services/pixabay-api';\r\nimport classes from './ImageGallery.module.css';\r\n\r\nclass ImageGallery extends Component {\r\n  state = { photos: null, error: null, status: 'idle' };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query: prevQuery, page: prevPage } = prevProps;\r\n    const { query: currentQuery, page: currentPage } = this.props;\r\n    const areSameQueries = prevQuery === currentQuery;\r\n    const areSamePages = prevPage === currentPage;\r\n\r\n    if (areSameQueries && areSamePages) {\r\n      return;\r\n    }\r\n\r\n    this.setState({ status: 'pending' });\r\n\r\n    fetchGallery(currentQuery, currentPage)\r\n      .then(({ hits: loadedPhotos }) => {\r\n        this.setState((prevState) => ({\r\n          photos:\r\n            prevState.photos && areSameQueries\r\n              ? prevState.photos.concat(loadedPhotos)\r\n              : loadedPhotos,\r\n          status: 'resolved',\r\n        }));\r\n      })\r\n      .catch((error) => this.setState({ error, status: 'rejected' }));\r\n  }\r\n\r\n  render() {\r\n    const { onPhotoClick, query, onLoadMore } = this.props;\r\n    const { photos, error, status } = this.state;\r\n\r\n    if (status === 'idle') {\r\n      return <h1 className={classes.title}>Enter some search query.</h1>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n      return (\r\n        <ImageGalleryPendingView\r\n          query={query}\r\n          viewsNumber={photos?.length || 12}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n      <ImageGalleryErrorView message={error.message} />;\r\n    }\r\n\r\n    if (status === 'resolved') {\r\n      return (\r\n        <ImageGalleryDataView\r\n          photos={photos}\r\n          onPhotoClick={onPhotoClick}\r\n          onLoadMore={onLoadMore}\r\n        />\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  onLoadMore: PropTypes.func.isRequired,\r\n  onPhotoClick: PropTypes.func.isRequired,\r\n  page: PropTypes.number,\r\n  query: PropTypes.string,\r\n};\r\n\r\nexport default ImageGallery;\r\n","export const fetchGallery = (query, page) =>\r\n  fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=24568502-5ca9f026ce5836891cf338e0e&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(`There are no ${query} images`));\r\n  });\r\n","import { useEffect, useRef } from 'react';\r\n\r\nconst usePrevious = (value) => {\r\n  // The ref object is a generic container whose current property is mutable ...\r\n  // ... and can hold any value, similar to an instance property on a class\r\n  const ref = useRef();\r\n  // Store current value in ref\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  }, [value]); // Only re-run if value changes\r\n  // Return previous value (happens before update in useEffect above)\r\n  return ref.current;\r\n};\r\n\r\nexport default usePrevious;\r\n","import { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\n\r\nimport Modal from 'components/Modal';\r\nimport Searchbar from 'components/Searchbar';\r\nimport ImageGallery from 'components/ImageGallery';\r\n\r\nimport classes from 'App.module.css';\r\n\r\nimport usePrevious from 'hooks/use-previous';\r\n\r\nconst App = () => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalPhoto, setModalPhoto] = useState(null);\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(null);\r\n\r\n  const prevQuery = usePrevious(query);\r\n\r\n  const handleFormSubmit = (query) => {\r\n    setQuery(query);\r\n    setPage((prevPage) =>\r\n      prevPage === null || prevQuery !== query ? 1 : page\r\n    );\r\n  };\r\n\r\n  const toggleModal = (modalPhoto) => {\r\n    modalPhoto && setModalPhoto(modalPhoto);\r\n    setShowModal((prevShowModal) => !prevShowModal);\r\n  };\r\n\r\n  const handleLoadMore = () => {\r\n    setPage((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.app}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n\r\n      {showModal && <Modal onClose={toggleModal} modalPhoto={modalPhoto} />}\r\n\r\n      <ImageGallery\r\n        onPhotoClick={toggleModal}\r\n        query={query}\r\n        page={page}\r\n        onLoadMore={handleLoadMore}\r\n      />\r\n\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}